syntax = "proto3";

option go_package = "pb/store";

import "google/protobuf/empty.proto";
import "google/protobuf/struct.proto";

service Store {	
	rpc NewTx (NewTxRequest) returns (NewTxResponse){};
	rpc Commit (Tx) returns (CommitResponse){};
	rpc Rollback (Tx) returns (google.protobuf.Empty){};
}

message NewTxRequest {
}

message NewTxResponse {
	string transactionID = 1;
}

message Tx {
	string transactionID = 1;
}

message CommitResponse {
	uint32 updatedRows = 1;
}


message ErrorInfo {
	string code = 1;
	string cause = 2;
}

message DebugInfo {
	string stack = 1;
}

message RetryInfo {
	int32 retry_delay = 1;
}